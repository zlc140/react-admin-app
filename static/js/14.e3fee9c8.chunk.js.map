{"version":3,"sources":["webpack:///./src/page/Login/index.less?89a0","page/Login/index.less","util/BGPartcle.js","page/Login/password.js","useHooks/index.js","page/Login/sendCode.js","page/Login/message.js","util/validate.js","page/Login/index.js"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","BGParticle","id","Object","classCallCheck","this","width","window","innerWidth","height","innerHeight","points","target","canvas","ctx","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","document","createElement","getContext","style","display","position","top","left","getElementById","appendChild","x","y","px","Math","random","py","p","originX","originY","length","closest","p1","j","p2","placed","k","getDistance","radius","shakePoint","point","_this","TweenLite","to","ease","Circ","easeInOut","onComplete","pointActive","beginPath","arc","PI","fillStyle","fill","lineActive","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","item","value","moveTo","lineTo","strokeStyle","stroke","err","return","pow","e","posx","posy","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","_this2","createCanvas","createPoints","start","onresize","handleResize","onmousemove","handleMouseMove","_this3","clearRect","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","abs","drawLines","drawPoint","myReq","NomalLoginForm","handleSubmit","preventDefault","props","form","validateFields","values","prop","accoutNo","username","password","$service","url","type","isToken","data","then","res","console","log","token","loginSubmit","redirectPath","catch","vallidatorMobile","rule","callback","test","vallidatorPassword","getFieldsValue","setFieldsValue","getFieldDecorator","react_default","a","es_form","className","onSubmit","Item","rules","required","message","validator","input","prefix","icon","color","placeholder","es_button","htmlType","Button","Component","background","border","passwordForm","Form","create","name","useInputValue","initialValue","_useState","useState","_useState2","slicedToArray","setValue","onChange","useCallback","event","currentTarget","Register","mobile","code","isSms","setIsSms","_useState3","_useState4","count","setCount","_useState5","_useState6","delay","setDelay","_useState7","_useState8","voiceTip","setVoiceTip","savedCallback","useRef","useEffect","current","setInterval","clearInterval","useInterVal","assign","row","gutter","col","span","onClick","error","errText","isMobile","validateSubmit","getInitialProps","initInfo","tabList","key","tab","Login","possibleConstructorReturn","getPrototypeOf","call","initPage","setState","loading","loadImageAsync","particle","init","_this$props","islogin","history","location","PATH","state","from","pathname","onTabChange","defineProperty","activeTab","destory","Promise","resolve","reject","image","Image","onload","onerror","src","backgroundBox","card","activeTabKey","Login_message","bind","Login_password","contextTypes","router","PropTypes","object","isRequired","backgroundImage","backgroundSize","transition","connect","userInfo","dispatch","val","loginInfo"],"mappings":"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","file":"static/js/14.e3fee9c8.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-1-3!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-1-3!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-1-3!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".login-container {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.login-container .container {\\n  position: fixed;\\n  background: rgba(255, 255, 255, 0.3);\\n  z-index: 999;\\n}\\n.login-container .form-item {\\n  position: relative;\\n  margin-bottom: 24px;\\n  line-height: 40px;\\n}\\n.login-container .form-item input {\\n  box-sizing: border-box;\\n  font-variant: tabular-nums;\\n  list-style: none;\\n  -webkit-font-feature-settings: 'tnum';\\n  font-feature-settings: 'tnum', \\\"tnum\\\", \\\"tnum\\\";\\n  display: inline-block;\\n  width: 100%;\\n  height: 32px;\\n  padding: 4px 11px;\\n  color: rgba(0, 0, 0, 0.65);\\n  font-size: 14px;\\n  line-height: 1.5;\\n  background-color: #fff;\\n  background-image: none;\\n  border: 1px solid #d9d9d9;\\n  border-radius: 4px;\\n  -webkit-transition: all 0.3s;\\n  transition: all 0.3s;\\n}\\n.login-container .form-item input.has-icon {\\n  padding-left: 30px;\\n}\\n.login-container .form-item .anticon {\\n  position: absolute;\\n  top: 50%;\\n  left: 12px;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n\", \"\"]);\n\n// exports\n","import {TweenLite,Circ} from \"gsap/all\";\n\nclass BGParticle {\n\tconstructor(id) {\n\t\tthis.id = id\n\t\tthis.width = window.innerWidth\n\t\tthis.height = window.innerHeight\n\t\tthis.points = []\n\t\tthis.target = {}\n\t\tthis.canvas = null\n\t\tthis.ctx = null\n\t\tthis.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame || window.msRequestAnimationFrame\n\t\tthis.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame\n\t\t\n\t}\n\t\n\tcreateCanvas() {\n\t\tthis.canvas = document.createElement('canvas')\n\t\tthis.ctx = this.canvas.getContext('2d')\n\t\tthis.canvas.style.display = 'block'        //防止全屏的canvas出现滚动条\n\t\tthis.canvas.width = this.width\n\t\tthis.canvas.height = this.height\n\t\tthis.canvas.style.position = 'fixed'\n\t\tthis.canvas.style.top = '0'\n\t\tthis.canvas.style.left = '0'\n\t\tdocument.getElementById(this.id).appendChild(this.canvas)\n\t}\n\t\n\tcreatePoints() {\n\t\tconst {width, height} = this\n\t\t//创建粒子和粒子的起始位置\n\t\tfor (let x = 0; x < width; x = x + width / 20) {\n\t\t\tfor (let y = 0; y < height; y = y + height / 20) {\n\t\t\t\tlet px = x + Math.random() * width / 20;\n\t\t\t\tlet py = y + Math.random() * height / 20;\n\t\t\t\tlet p = {x: px, originX: px, y: py, originY: py};\n\t\t\t\tthis.points.push(p);\n\t\t\t}\n\t\t}\n\t\t//给每个粒子添加新属性closest、radius\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tlet closest = [];\n\t\t\tlet p1 = this.points[i];\n\t\t\tfor (let j = i + 1; j < this.points.length; j++) {\n\t\t\t\tlet p2 = this.points[j]\n\t\t\t\tlet placed = false;\n\t\t\t\tfor (let k = 0; k < 5; k++) {\n\t\t\t\t\tif (!placed) {\n\t\t\t\t\t\tif (closest[k] === undefined) {\n\t\t\t\t\t\t\tclosest[k] = p2;\n\t\t\t\t\t\t\tplaced = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let k = 0; k < 5; k++) {\n\t\t\t\t\tif (!placed) {\n\t\t\t\t\t\tif (this.getDistance(p1, p2) < this.getDistance(p1, closest[k])) {\n\t\t\t\t\t\t\tclosest[k] = p2;\n\t\t\t\t\t\t\tplaced = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tp1.closest = closest;\n\t\t\tp1.radius = 2 + Math.random() * 2\n\t\t\t//给粒子添加抖动\n\t\t\tthis.shakePoint(p1);\n\t\t}\n\t}\n\t\n\tshakePoint(point) {\n\t\tTweenLite.to(point, 1 + 1 * Math.random(), {\n\t\t\tx: point.originX - 50 + Math.random() * 100,\n\t\t\ty: point.originY - 50 + Math.random() * 100, ease: Circ.easeInOut,\n\t\t\tonComplete: () => {\n\t\t\t\tthis.shakePoint(point);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tdrawPoint(point, ctx) {\n\t\tif (!point.pointActive) return;\n\t\tctx.beginPath();\n\t\tctx.arc(point.x, point.y, point.radius, 0, 2 * Math.PI, false);\n\t\tctx.fillStyle = 'rgba(156,217,249,' + point.pointActive + ')';\n\t\tctx.fill();\n\t}\n\t\n\tdrawLines(point, ctx) {\n\t\tif (!point.lineActive) return;\n\t\tfor (let item of point.closest) {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(point.x, point.y);\n\t\t\tctx.lineTo(item.x, item.y);\n\t\t\tctx.strokeStyle = 'rgba(156,217,249,' + point.lineActive + ')';\n\t\t\tctx.stroke();\n\t\t}\n\t}\n\t\n\tgetDistance(p1, p2) {\n\t\treturn Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n\t}\n\t\n\thandleResize() {\n\t\tthis.width = window.innerWidth\n\t\tthis.height = window.innerHeight\n\t\tthis.canvas.width = this.width\n\t\tthis.canvas.height = this.height\n\t}\n\t\n\thandleMouseMove(e) {\n\t\tlet posx = 0, posy = 0;\n\t\tif (e.pageX || e.pageY) {\n\t\t\tposx = e.pageX;\n\t\t\tposy = e.pageY;\n\t\t}\n\t\telse if (e.clientX || e.clientY) {\n\t\t\tposx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t\tposy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t}\n\t\tthis.target.x = posx;\n\t\tthis.target.y = posy;\n\t}\n\t\n\tinit() {\n\t\tthis.createCanvas()\n\t\tthis.createPoints()\n\t\tthis.start()\n\t\t\n\t\twindow.onresize = (e) => this.handleResize(e)\n\t\twindow.onmousemove = (e) => this.handleMouseMove(e)\n\t}\n\t\n\tstart() {\n\t\tconst {width, height, getDistance, points, ctx, target, requestAnimationFrame} = this\n\t\tthis.ctx.clearRect(0, 0, width, height);\n\t\t\n\t\tfor (let point of points) {\n\t\t\tif (Math.abs(getDistance(target, point)) < 4000) {\n\t\t\t\tpoint.lineActive = 0.3;\n\t\t\t\tpoint.pointActive = 0.6;\n\t\t\t} else if (Math.abs(getDistance(target, point)) < 20000) {\n\t\t\t\tpoint.lineActive = 0.1;\n\t\t\t\tpoint.pointActive = 0.3;\n\t\t\t} else if (Math.abs(getDistance(target, point)) < 40000) {\n\t\t\t\tpoint.lineActive = 0.02;\n\t\t\t\tpoint.pointActive = 0.1;\n\t\t\t} else {\n\t\t\t\tpoint.lineActive = 0;\n\t\t\t\tpoint.pointActive = 0;\n\t\t\t}\n\t\t\t\n\t\t\tthis.drawLines(point, ctx)\n\t\t\tthis.drawPoint(point, ctx);\n\t\t}\n\t\tthis.myReq = requestAnimationFrame(() => this.start());\n\t}\n\t\n\tdestory() {\n\t\tconst cancelAnimationFrame = this.cancelAnimationFrame\n\t\tcancelAnimationFrame(this.myReq)\n\t\twindow.onresize = null\n\t\twindow.onmousemove = null\n\t}\n}\nexport default BGParticle","import  React, { Component } from 'react';\n// import {  Redirect } from 'react-router-dom';\nimport { Form, Icon, Input, Button } from 'antd';\nimport $service from '@service/index'\n\nclass NomalLoginForm extends Component {\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.props.form.validateFields((err, values) => {\n\t\t\tif(!err) {\n\n\t\t\t\tlet prop = {\n\t\t\t\t\taccoutNo: values.username,\n\t\t\t\t\tpassword: values.password\n\t\t\t\t}\n\t\t\t\t$service({\n\t\t\t\t\turl:'/user/users/login/password',\n\t\t\t\t\ttype: 'formdata',\n\t\t\t\t\tisToken: false,\n\t\t\t\t\tdata: prop\n\t\t\t\t}).then(res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t//登录成功\n\t\t\t\t\tres.data.token && this.props.loginSubmit(res.data.token).then(res => {\n\t\t\t\t\t\tthis.props.redirectPath();\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.log(err,'e')\n\t\t\t\t})\n\n\n\n\n\t\t\t}\n\t\t})\n\t}\n\tvallidatorMobile = (rule, value, callback) =>{\n\t\tconst exp = /^1[3-9]\\d{9}$/;\n\t\tif(!exp.test(value) && value != 'admin'){\n\t\t\tcallback('请输入正确的手机号')\n\t\t}\n\t\tcallback();\n\t}\n\tvallidatorPassword = (value) => {\n\t\tconst form = this.props.form;\n\t\tif(!form.getFieldsValue('mobile')){\n\t\t\tform.setFieldsValue({'password': ''})\n\t\t}\n\n\t}\n\trender() {\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\treturn (\n\t\t\t<Form className=\"login-form\" onSubmit={this.handleSubmit}>\n\t\t\t\t<Form.Item>\n\t\t\t\t\t{getFieldDecorator('username', {\n\t\t\t\t\t\trules: [{ required: true, message: '手机号必填' },\n\t\t\t\t\t\t\t{validator: this.vallidatorMobile}]\n\t\t\t\t\t\t})(\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tprefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\tplaceholder=\"手机号\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item>\n\t\t\t\t\t{getFieldDecorator('password', {\n\t\t\t\t\t\trules: [{ required: true, message: '密码' }\n\t\t\t\t\t\t// ,{validator: this.vallidatorPassword}\n\t\t\t\t\t\t]\n\t\t\t\t\t})(\n\t\t\t\t\t\t<Input prefix={<Icon type=\"user\"  style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t       placeholder=\"密码\" type=\"password\"/>\n\t\t\t\t\t)}\n\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={style.Button}>\n\t\t\t\t\t\t登录\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\n\t\t)\n\t}\n}\n\nexport const style = {\n\tButton : {\n\t\tbackground: 'rgba(0,0,0,.25)',\n\t\twidth:'100%',\n\t\tcolor: '#a9a9a9',\n\t\tborder:'none'\n\t}\n}\nconst passwordForm = Form.create({ name: 'normal_login' })(NomalLoginForm);\nexport default passwordForm\n","\nimport React, {useCallback, useEffect, useContext, useMemo, useState, useReducer, useRef} from 'react'\n\n//input的双向绑定\nexport const useInputValue = (initialValue) => {\n    let [value, setValue] = useState(initialValue);\n    let onChange = useCallback(function(event) {\n        setValue(event.currentTarget.value);\n    }, []);\n    return {\n        value,\n        onChange,\n    };\n}\n\n\nexport const useMount = (mount) => useEffect(mount, []);\n\n// 定时器的的组件销毁时同步销毁\n/**\n *\n * @param callback\n * @param delay\n */\nexport const useInterVal = (callback, delay) => {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback])\n\n    useEffect( () => {\n        function tick() {\n            savedCallback.current();\n            console.log(id,'id')\n        }\n        let id;\n        if(delay != null) {\n            id = setInterval(tick, delay)\n            return () => clearInterval(id)\n        }\n    },[delay])\n}\n\n//useReducer用法类似reducer\nexport const useCounter = () => {\n    const initailState = {count: 0};\n\n    function reducer(state, action) {\n        switch (action.type) {\n            case 'increment':\n                return {count: state.count + 1}\n            case 'decrement':\n                return {count: state.count - 1}\n            default:\n                throw new Error();\n        }\n    }\n    const [state, dispatch] = useReducer(reducer, initailState)\n    return (\n        <div>\n            Count: {state.count}\n            <button onClick={() => dispatch({type: 'increment'})}>+</button>\n            <button onClick={() => dispatch({type: 'decrement'})}>-</button>\n        </div>\n    );\n\n}\n\n\n// 一个常见的用例便是命令式地访问子组件\n// 当 ref 对象内容发生变化时，useRef 并不会通知你。变更 .current 属性不会引发组件重新渲染。\n// 如果想要在 React 绑定或解绑 DOM 节点的 ref 时运行某些代码，则需要使用回调 ref 来实现。\nfunction TextInputWithFocusButton() {\n    const inputEl = useRef(null);\n    const onButtonClick = () => {\n        // `current` 指向已挂载到 DOM 上的文本输入元素\n        inputEl.current.focus();\n    };\n    return (\n        <>\n            <input ref={inputEl} type=\"text\" />\n            <button onClick={onButtonClick}>Focus the input</button>\n        </>\n    );\n}\n","import  React, { Component } from 'react';\nimport { Button, message} from 'antd';\nimport $service from '@service/index'\n\nclass SendCode extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            voiceTip : '发送验证码',\n            isSms : false,\n            intervalId: null\n        }\n    }\n    getCode = () => {\n        if(!this.props.mobile) {\n            message.error('手机号不合法', 3)\n            return;\n        }\n        if(this.state.isSms){\n            return false;\n        }\n        $service('user/getCode').then(res => {\n             this.setState({\n                 isSms: true\n             })\n            this.handleVoiceCode();\n        })\n    }\n    componentWillUnmount() {\n        this.state.intervalId && clearInterval(this.state.intervalId)\n    }\n\n    handleVoiceCode = () => {\n        let time = 59;\n        this.state.intervalId = setInterval( () => {\n            time--\n            if (time === 0) {\n                clearInterval(this.state.intervalId);\n                this.setState({\n                    isSms: false,\n                    voiceTip: '重新发送'\n                })\n            } else {\n                this.setState({\n                    voiceTip: time + '秒后重试'\n                })\n            }\n        }, 1000)\n    }\n    render() {\n        return (\n            <Button style={{width: '100%'}} onClick={this.getCode}>{this.state.voiceTip}</Button>\n        )\n    }\n}\n\nexport default SendCode\n","import  React from 'react';\nimport { useState, useContext } from 'react';\n// import { connect } from 'react-redux';\nimport { style } from './password'\nimport { Form, Icon, Input, Button, Row, Col, message } from 'antd';\nimport {useInputValue, useMount, useInterVal} from '../../useHooks'\nimport $service from '@service/index'\nimport { isMobile } from '@utils/validate'\nimport SendCode from './sendCode'\n\n\nconst Register = () => {\n\tlet mobile = useInputValue('')\n\tlet code = useInputValue('')\n\tlet [isSms, setIsSms] = useState(false)\n\tlet [count, setCount] = useState(10)\n\tlet [delay, setDelay] = useState(null)\n\tlet [voiceTip, setVoiceTip] = useState('发送验证码')\n\n\tconst validateSubmit = () => {\n\t\tlet errText = '';\n\t\tif(!mobile.value) {\n\t\t\terrText = '请输入手机号码'\n\t\t} else if(isSms && !code.value) {\n\t\t\terrText = '请输入获取的验证码'\n\t\t} else if(!isSms){\n\t\t\terrText = '请获取验证码'\n\t\t} else if(!isMobile(mobile.value)) {\n\t\t\terrText = '手机号不合法'\n\t\t}\n\t\tif(errText) {\n\t\t\tmessage.error(errText, 3)\n\t\t}\n\t\treturn !errText;\n\t}\n\n\tuseInterVal(()=> {\n\t\tconsole.log('count', count)\n\t\tif(count === 0) {\n\t\t\tsetVoiceTip('重新发送');\n\t\t\tsetCount(59);\n\t\t\tsetIsSms(false);\n\t\t\tsetDelay(null)\n\t\t}else{\n\t\t\tsetCount(count - 1)\n\t\t\tsetVoiceTip(count + '秒后重试');\n\t\t}\n\t}, delay)\n\t//本来想通过直接将setInter赋值到hooks state上直接在销毁时clear的，但事实是打脸的，无法赋值delay一直未null\n\t// useEffect(() => {\n\t// \tconsole.log(delay)\n\t// \treturn () => {\n\t// \t\tconsole.log(delay,'unmount')\n\t// \t\tif(delay){\n\t// \t\t\tclearInterval(delay)\n\t// \t\t}\n\t// \t}\n\t// },[])\n\n\tconst submit = function() {\n\t\t// message.success(mobile.value,2)\n\t\tif(validateSubmit()) {\n\t\t\tlet prop = {\n\t\t\t\tmobile: mobile.value,\n\t\t\t\tcode: code.value\n\t\t\t}\n\t\t\tconsole.log(prop);\n\t\t}\n\t}\n\n\tconst getCode = function(event) {\n\t\tif(!mobile.value) {\n\t\t\tmessage.error('手机号不合法', 3)\n\t\t\treturn;\n\t\t}\n\t\tif(isSms){\n\t\t\treturn false;\n\t\t}\n\t\t$service('user/getCode').then(res => {\n\t\t\tsetIsSms(true);\n\t\t\tsetDelay(1000) //开启定时器\n\t\t\t// handleVoiceCode()\n\t\t})\n\t}\n\n\tconst handleVoiceCode = () => {\n\t\tlet time = 59;\n\t\tlet id = setInterval(function () {\n\t\t\ttime--;\n\t\t\tsetCount(time);\n\t\t\tif (time === 0) {\n\t\t\t\tclearInterval(id);\n\t\t\t\tsetVoiceTip('重新发送');\n\t\t\t\tsetIsSms(false);\n\t\t\t} else {\n\t\t\t\tsetVoiceTip(time + '秒后重试');\n\t\t\t}\n\t\t}, 1000)\n\n\t\tconsole.log(delay,'delay')\n\t}\n\n\treturn (\n\t\t<form className=\"login-form\">\n\t\t\t<div className=\"form-item\">\n\t\t\t\t<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />\n\t\t\t\t<input className=\"has-icon\" id={'mobile'} name={'mobile'} {...mobile} placeholder=\"手机号\"/>\n\t\t\t</div>\n\t\t\t<div className=\"form-item\">\n\n\t\t\t\t<Row gutter={8}>\n\t\t\t\t\t <Col span={12}>\n\t\t\t\t\t\t <Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />\n\t\t\t\t\t\t <input className=\"has-icon\" id={'code'} name={'code'} {...code} placeholder=\"验证码\"/>\n\t\t\t\t\t </Col>\n\t\t\t\t\t <Col span={12}>\n\t\t\t\t\t\t {/*<SendCode mobile={mobile.value}></SendCode>*/}\n\t\t\t\t\t\t <Button style={{width: '100%'}} onClick={getCode}>{voiceTip}</Button>\n\t\t\t\t\t </Col>\n\t\t\t\t </Row>\n\t\t\t</div>\n\t\t\t<div className=\"form-item\">\n\t\t\t\t<Button type=\"primary\" onClick={submit} style={style.Button} className=\"login-form-button\">\n\t\t\t\t\t登录\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</form>\n\t)\n\n}\n\nRegister.getInitialProps = () => {\n\treturn {\n\t\tinitInfo: 'test'\n\t}\n}\n\nexport default Register;\n\n// export default class Home extends Component {\n// \t// constructor(props) {\n// \t// \tsuper(props);\n// \t// }\n// \trender() {\n// \t\treturn (\n// \t\t\t <Form className=\"login-form\">\n// \t\t\t\t <Form.Item>\n// \t\t\t\t\t <Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"手机号\" />\n// \t\t\t\t </Form.Item>\n// \t\t\t\t <Form.Item>\n// \t\t\t\t\t <Row gutter={8}>\n// \t\t\t\t\t\t <Col span={12}>\n// \t\t\t\t\t\t    <Input prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"验证码\" />\n// \t\t\t\t\t\t </Col>\n// \t\t\t\t\t\t <Col span={12}>\n// \t\t\t\t\t\t\t <Button>获取验证码</Button>\n// \t\t\t\t\t\t </Col>\n// \t\t\t\t\t </Row>\n// \t\t\t\t </Form.Item>\n// \t\t\t\t <Form.Item>\n//\n// \t\t\t\t\t <Button type=\"primary\" htmlType=\"submit\" style={style.Button} className=\"login-form-button\">\n// \t\t\t\t\t\t 登录\n// \t\t\t\t\t </Button>\n// \t\t\t\t </Form.Item>\n// \t\t\t </Form>\n//\n// \t\t)\n// \t}\n// }\n","/**\n * 是否为手机号\n * @param mobile\n * @returns {boolean}\n */\nexport function isMobile(mobile) {\n    if (mobile) {\n        return /^1[3-9][0-9]\\d{8}$/.test(mobile)\n    } else {\n        return false\n    }\n}\n\n/**\n * 是否为密码格式\n * @param password\n * @returns {boolean}\n */\nexport function isPassword(password) {\n    if (password) {\n        return /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/.test(password)\n    } else {\n        return false\n    }\n}\n\n/**\n * 是否符合图片验证码和短信验证码格式\n * @param smsCode\n * @returns {boolean}\n */\nexport function isSmsCode(smsCode) {\n    if (smsCode) {\n        return /^[0-9]{4}$/.test(smsCode)\n    } else {\n        return false\n    }\n}\n","import  React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n// import { Redirect } from 'react-router-dom';\n\nimport { loginInfo } from '@store/actions'\nimport BGParticle from '../../util/BGPartcle';\nimport { Card } from 'antd';\nimport './index.less';\nimport Message from './message';\nimport Password from './password';\n\nconst url = 'https://github.com/zhangZhiHao1996/image-store/blob/master/react-admin-master/bg1.jpg?raw=true'\n\nconst tabList = [ {\n\tkey: 'password',\n\ttab: '密码登录',\n},{\n\tkey: 'message',\n\ttab: '短信登录',\n}];\n\n\nclass Login extends Component {\n\tstatic contextTypes = {\n\t\trouter: PropTypes.object.isRequired\n\t}\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\turl: '',\n\t\t\tloading: false,\n\t\t\tactiveTab: 'password'\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.initPage()\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.particle && this.particle.destory()\n\t}\n\n\tinitPage = () => {\n\t\tconsole.log(this.props)\n\t\tthis.setState({\n\t\t\tloading: true\n\t\t})\n\t\tthis.redirectPath()\n\t\tthis.loadImageAsync(url).then((url) => {\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\turl\n\t\t\t})\n\t\t}).then(() => {\n\t\t\tthis.particle = new BGParticle('backgroundBox')\n\t\t\tthis.particle.init()\n\t\t})\n\n\t}\n\tredirectPath = () => {\n\t\tconst { islogin, history, location } = this.props;\n\n\t\tif(islogin){\n\t\t\tconst PATH = location.state ? location.state.from.pathname : '/'\n\t\t\tconsole.log(location,'location',PATH)\n\t\t\thistory.push('/')\n\t\t}\n\t}\n\tonTabChange = (key, type) => {\n\t\tthis.setState({\n\t\t\t[type]: key\n\t\t})\n\t}\n\tloadImageAsync(url) {\n\t\treturn new Promise((resolve,reject ) => {\n\t\t\tlet image = new Image();\n\t\t\timage.onload = function () {\n\t\t\t\tresolve(url)\n\t\t\t}\n\t\t\timage.onerror = function () {\n\t\t\t\treject('图片加载出错')\n\t\t\t}\n\t\t\timage.src = url;\n\t\t})\n\t}\n\trender() {\n\t\t\treturn (\n\t\t\t\t<div className='login-container' id='backgroundBox' style={style.backgroundBox}>\n\n\t\t\t\t\t<Card\n\t\t\t\t\t\tclassName={'container'}\n\t\t\t\t\t\tstyle={{width: '300px'}}\n\t\t\t\t\t\ttabList={tabList}\n\t\t\t\t\t\tactiveTabKey={this.state.activeTab}\n\t\t\t\t\t\tonTabChange={(key) => {this.onTabChange(key, 'activeTab')}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.state.activeTab === 'message'\n\t\t\t\t\t\t\t? <Message {...this.props} redirectPath={this.redirectPath.bind(this)}/>\n\t\t\t\t\t\t\t: <Password {...this.props} redirectPath={this.redirectPath.bind(this)}/>}\n\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t)\n\n\t}\n}\nconst style = {\n\tbackgroundBox: {\n\t\tposition: 'fixed',\n\t\ttop: '0',\n\t\tleft: '0',\n\t\twidth: '100vw',\n\t\theight: '100vh',\n\t\t// backgroundImage: 'url(https://github.com/zhangZhiHao1996/image-store/blob/master/react-admin-master/bg5.jpg?raw=true)',\n\t\tbackgroundImage: 'url(https://github.com/zlc140/zlc-blog/blob/master/docs/.vuepress/public/img/contact-bg.jpg?raw=true)',\n\t\tbackgroundSize: '100% 100%',\n\t\ttransition:'all .5s'\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\tconsole.log(state)\n\tconst islogin = state.userInfo ? true : false;\n\treturn {\n\t\tislogin : islogin\n\t}\n}\n//mapDispatchToProps 可是function也可是object,作用是绑定action上的函数到props上\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tloginSubmit: (val) => dispatch(loginInfo(val))\n\t}\n\n}\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Login)\n// export default Login;\n"],"sourceRoot":""}